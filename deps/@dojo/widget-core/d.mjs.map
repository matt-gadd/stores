{"version":3,"file":"d.mjs","sourceRoot":"","sources":["../../src/d.ts"],"names":[],"mappings":"AAAA,OAAO,MAAM,MAAM,mBAAmB,CAAC;AAavC;;GAEG;AACH,MAAM,CAAC,MAAM,KAAK,GAAG,MAAM,CAAC,yBAAyB,CAAC,CAAC;AAEvD;;GAEG;AACH,MAAM,CAAC,MAAM,KAAK,GAAG,MAAM,CAAC,yBAAyB,CAAC,CAAC;AAEvD;;GAEG;AACH,MAAM,kBACL,KAAe;IAEf,MAAM,CAAC,OAAO,CAAC,KAAK,IAAI,OAAO,KAAK,KAAK,QAAQ,IAAI,KAAK,CAAC,IAAI,KAAK,KAAK,CAAC,CAAC;AAC5E,CAAC;AAED;;GAEG;AACH,MAAM,kBAAkB,KAAY;IACnC,MAAM,CAAC,OAAO,CAAC,KAAK,IAAI,OAAO,KAAK,KAAK,QAAQ,IAAI,KAAK,CAAC,IAAI,KAAK,KAAK,CAAC,CAAC;AAC5E,CAAC;AAsBD,MAAM,mBACL,MAAuB,EACvB,QAAgC,EAChC,SAAqC;IAErC,IAAI,KAAK,GAAG,KAAK,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC;IAC3D,OAAO,KAAK,CAAC,MAAM,EAAE,CAAC;QACrB,MAAM,IAAI,GAAG,KAAK,CAAC,GAAG,EAAE,CAAC;QACzB,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;YACV,EAAE,CAAC,CAAC,CAAC,SAAS,IAAI,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;gBACnC,QAAQ,CAAC,IAAI,CAAC,CAAC;YAChB,CAAC;YACD,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,OAAO,CAAC,IAAI,CAAC,CAAC,IAAI,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;gBACvD,KAAK,GAAG,CAAC,GAAG,KAAK,EAAE,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC;YACtC,CAAC;QACF,CAAC;IACF,CAAC;IACD,MAAM,CAAC,MAAM,CAAC;AACf,CAAC;AAED;;GAEG;AACH,MAAM,YACL,iBAAiD,EACjD,UAA2B,EAC3B,WAA0B,EAAE;IAE5B,MAAM,CAAC;QACN,QAAQ;QACR,iBAAiB;QACjB,UAAU;QACV,IAAI,EAAE,KAAK;KACX,CAAC;AACH,CAAC;AAQD,MAAM,YACL,GAAW,EACX,uBAA8E,EAAE,EAChF,WAAgC,SAAS;IAEzC,IAAI,UAAU,GAAgD,oBAAoB,CAAC;IACnF,IAAI,0BAA0B,CAAC;IAE/B,EAAE,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,oBAAoB,CAAC,CAAC,CAAC,CAAC;QACzC,QAAQ,GAAG,oBAAoB,CAAC;QAChC,UAAU,GAAG,EAAE,CAAC;IACjB,CAAC;IAED,EAAE,CAAC,CAAC,OAAO,UAAU,KAAK,UAAU,CAAC,CAAC,CAAC;QACtC,0BAA0B,GAAG,UAAU,CAAC;QACxC,UAAU,GAAG,EAAE,CAAC;IACjB,CAAC;IAED,MAAM,CAAC;QACN,GAAG;QACH,0BAA0B;QAC1B,QAAQ;QACR,UAAU;QACV,IAAI,EAAE,KAAK;KACX,CAAC;AACH,CAAC","sourcesContent":["import Symbol from '@dojo/shim/Symbol';\nimport {\n\tConstructor,\n\tDefaultWidgetBaseInterface,\n\tDeferredVirtualProperties,\n\tDNode,\n\tVNode,\n\tRegistryLabel,\n\tVNodeProperties,\n\tWidgetBaseInterface,\n\tWNode\n} from './interfaces';\n\n/**\n * The symbol identifier for a WNode type\n */\nexport const WNODE = Symbol('Identifier for a WNode.');\n\n/**\n * The symbol identifier for a VNode type\n */\nexport const VNODE = Symbol('Identifier for a VNode.');\n\n/**\n * Helper function that returns true if the `DNode` is a `WNode` using the `type` property\n */\nexport function isWNode<W extends WidgetBaseInterface = DefaultWidgetBaseInterface>(\n\tchild: DNode<W>\n): child is WNode<W> {\n\treturn Boolean(child && typeof child !== 'string' && child.type === WNODE);\n}\n\n/**\n * Helper function that returns true if the `DNode` is a `VNode` using the `type` property\n */\nexport function isVNode(child: DNode): child is VNode {\n\treturn Boolean(child && typeof child !== 'string' && child.type === VNODE);\n}\n\n/**\n * Generic decorate function for DNodes. The nodes are modified in place based on the provided predicate\n * and modifier functions.\n *\n * The children of each node are flattened and added to the array for decoration.\n *\n * If no predicate is supplied then the modifier will be executed on all nodes.\n */\nexport function decorate<T extends DNode>(\n\tdNodes: DNode,\n\tmodifier: (dNode: T) => void,\n\tpredicate: (dNode: DNode) => dNode is T\n): DNode;\nexport function decorate<T extends DNode>(\n\tdNodes: DNode[],\n\tmodifier: (dNode: T) => void,\n\tpredicate: (dNode: DNode) => dNode is T\n): DNode[];\nexport function decorate(dNodes: DNode, modifier: (dNode: DNode) => void): DNode;\nexport function decorate(dNodes: DNode[], modifier: (dNode: DNode) => void): DNode[];\nexport function decorate(\n\tdNodes: DNode | DNode[],\n\tmodifier: (dNode: DNode) => void,\n\tpredicate?: (dNode: DNode) => boolean\n): DNode | DNode[] {\n\tlet nodes = Array.isArray(dNodes) ? [...dNodes] : [dNodes];\n\twhile (nodes.length) {\n\t\tconst node = nodes.pop();\n\t\tif (node) {\n\t\t\tif (!predicate || predicate(node)) {\n\t\t\t\tmodifier(node);\n\t\t\t}\n\t\t\tif ((isWNode(node) || isVNode(node)) && node.children) {\n\t\t\t\tnodes = [...nodes, ...node.children];\n\t\t\t}\n\t\t}\n\t}\n\treturn dNodes;\n}\n\n/**\n * Wrapper function for calls to create a widget.\n */\nexport function w<W extends WidgetBaseInterface>(\n\twidgetConstructor: Constructor<W> | RegistryLabel,\n\tproperties: W['properties'],\n\tchildren: W['children'] = []\n): WNode<W> {\n\treturn {\n\t\tchildren,\n\t\twidgetConstructor,\n\t\tproperties,\n\t\ttype: WNODE\n\t};\n}\n\n/**\n * Wrapper function for calls to create VNodes.\n */\nexport function v(tag: string, properties: VNodeProperties | DeferredVirtualProperties, children?: DNode[]): VNode;\nexport function v(tag: string, children: undefined | DNode[]): VNode;\nexport function v(tag: string): VNode;\nexport function v(\n\ttag: string,\n\tpropertiesOrChildren: VNodeProperties | DeferredVirtualProperties | DNode[] = {},\n\tchildren: undefined | DNode[] = undefined\n): VNode {\n\tlet properties: VNodeProperties | DeferredVirtualProperties = propertiesOrChildren;\n\tlet deferredPropertiesCallback;\n\n\tif (Array.isArray(propertiesOrChildren)) {\n\t\tchildren = propertiesOrChildren;\n\t\tproperties = {};\n\t}\n\n\tif (typeof properties === 'function') {\n\t\tdeferredPropertiesCallback = properties;\n\t\tproperties = {};\n\t}\n\n\treturn {\n\t\ttag,\n\t\tdeferredPropertiesCallback,\n\t\tchildren,\n\t\tproperties,\n\t\ttype: VNODE\n\t};\n}\n"]}